#pragma once
#define NUMBER_OF_FIGURES 12 // количество фигур, которое нужно разместить, чтобы покрыть всё поле
#define MAX_SHAPES 12
#define TRUE 1
#define FALSE 0
//опорная клетка - первая не нулевая клетка в нулевой строке
//пример
//0##00
//###00
//00000
//00000
//00000 
//клетка с координатами x=1; y=0 - опорная
typedef struct {
    int Arr[5][5];
    int right;//клеток справа от опорной
    int left;//клеток слева от опорной
    int below;// клеток снизу от опорной
}Piece;

typedef struct {
    Piece Pieces[8];
    int count;
}Shape;

Shape Shapes[12] =
{
    // Пентомино P: без вращения, без отражения
    // #
    // ##
    // ##
{ {
   {{ { 2, 0, 0, 0, 0 }, { 2, 2, 0, 0, 0 }, { 2, 2, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 1, 0, 2},
   {{ { 0, 2, 0, 0, 0 }, { 2, 2, 0, 0, 0 }, { 2, 2, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 0, 1, 2},
   {{ { 2, 2, 2, 0, 0 }, { 2, 2, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 2, 0, 1},
   {{ { 2, 2, 0, 0, 0 }, { 2, 2, 2, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 2, 0, 1},
   {{ { 2, 2, 0, 0, 0 }, { 2, 2, 0, 0, 0 }, { 0, 2, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 1, 0, 2},
   {{ { 2, 2, 0, 0, 0 }, { 2, 2, 0, 0, 0 }, { 2, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 1, 0, 2},
   {{ { 0, 2, 2, 0, 0 }, { 2, 2, 2, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 1, 1, 1},
   {{ { 2, 2, 2, 0, 0 }, { 0, 2, 2, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 2, 0, 1}
  }, 8},
    // Пентомино I: два вращения, без отражения
    // #####
    { {
       {{ { 3, 3, 3, 3, 3 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 4, 0, 0},
       {{ { 3, 0, 0, 0, 0 }, { 3, 0, 0, 0, 0 }, { 3, 0, 0, 0, 0 }, { 3, 0, 0, 0, 0 }, { 3, 0, 0, 0, 0 } }, 0, 0, 4}
      }, 2},
    // Пентомино V: четыре вращения, без отражения
    // ###
    // #
    // #
    { {
        {{ { 4, 4, 4, 0, 0 }, { 4, 0, 0, 0, 0 }, { 4, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 2, 0, 2},
        {{ { 4, 4, 4, 0, 0 }, { 0, 0, 4, 0, 0 }, { 0, 0, 4, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 2, 0, 2},
        {{ { 0, 0, 4, 0, 0 }, { 0, 0, 4, 0, 0 }, { 4, 4, 4, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 0, 2, 2},
        {{ { 4, 0, 0, 0, 0 }, { 4, 0, 0, 0, 0 }, { 4, 4, 4, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 2, 0, 2}
        }, 4},
    // Пентомино W: четыре вращения, без отражения
    //  ##
    // ##
    // #
    { {
       {{ { 0, 5, 5, 0, 0 }, { 5, 5, 0, 0, 0 }, { 5, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 1, 1, 2},
       {{ { 5, 5, 0, 0, 0 }, { 0, 5, 5, 0, 0 }, { 0, 0, 5, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 2, 0, 2},
       {{ { 0, 0, 5, 0, 0 }, { 0, 5, 5, 0, 0 }, { 5, 5, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 0, 2, 2},
       {{ { 5, 0, 0, 0, 0 }, { 5, 5, 0, 0, 0 }, { 0, 5, 5, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 2, 0, 2}
      }, 4},
    // Пентомино T: четыре вращения, без отражения
    // ###
    //  #
    //  #
    { {
       {{ { 6, 6, 6, 0, 0 }, { 0, 6, 0, 0, 0 }, { 0, 6, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 2, 0, 2},
       {{ { 0, 0, 6, 0, 0 }, { 6, 6, 6, 0, 0 }, { 0, 0, 6, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 0, 2, 2},
       {{ { 0, 6, 0, 0, 0 }, { 0, 6, 0, 0, 0 }, { 6, 6, 6, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 1, 1, 2},
       {{ { 6, 0, 0, 0, 0 }, { 6, 6, 6, 0, 0 }, { 6, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 2, 0, 2}
       }, 4},
    // Пентомино U: четыре вращения, без отражения
    // ###
    // # #
    { {
        {{ { 7, 7, 7, 0, 0 }, { 7, 0, 7, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 2, 0, 1},
        {{ { 7, 7, 0, 0, 0 }, { 0, 7, 0, 0, 0 }, { 7, 7, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 1, 0, 2},
        {{ { 7, 0, 7, 0, 0 }, { 7, 7, 7, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 2, 0, 1},
        {{ { 7, 7, 0, 0, 0 }, { 7, 0, 0, 0, 0 }, { 7, 7, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 1, 0, 2}
        }, 4},
    // Пентомино F: четыре вращения, отражения
    // #
    // ###
    //  #
    { {
       {{ { 8, 0, 0, 0, 0 }, { 8, 8, 8, 0, 0 }, { 0, 8, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 2, 0, 2},
       {{ { 0, 8, 8, 0, 0 }, { 8, 8, 0, 0, 0 }, { 0, 8, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 1, 1, 2},
       {{ { 0, 8, 0, 0, 0 }, { 8, 8, 8, 0, 0 }, { 0, 0, 8, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 1, 1, 2},
       {{ { 0, 8, 0, 0, 0 }, { 0, 8, 8, 0, 0 }, { 8, 8, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 1, 1, 2},
       {{ { 8, 8, 0, 0, 0 }, { 0, 8, 8, 0, 0 }, { 0, 8, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 2, 0, 2},
       {{ { 0, 8, 0, 0, 0 }, { 8, 8, 8, 0, 0 }, { 8, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 1, 1, 2},
       {{ { 0, 8, 0, 0, 0 }, { 8, 8, 0, 0, 0 }, { 0, 8, 8, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 1, 1, 2},
       {{ { 0, 0, 8, 0, 0 }, { 8, 8, 8, 0, 0 }, { 0, 8, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 0, 2, 2}
       }, 8},
    // Пентомино L: четыре вращения, отражения
    // ####
    //    #
    { {
       {{ { 9, 9, 9, 9, 0 }, { 0, 0, 0, 9, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 0, 3, 1},
       {{ { 0, 9, 0, 0, 0 }, { 0, 9, 0, 0, 0 }, { 0, 9, 0, 0, 0 }, { 9, 9, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 0, 1, 3},
       {{ { 9, 0, 0, 0, 0 }, { 9, 9, 9, 9, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 3, 0, 1},
       {{ { 9, 9, 0, 0, 0 }, { 9, 0, 0, 0, 0 }, { 9, 0, 0, 0, 0 }, { 9, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 1, 0, 3},
       {{ { 9, 0, 0, 0, 0 }, { 9, 0, 0, 0, 0 }, { 9, 0, 0, 0, 0 }, { 9, 9, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 1, 0, 3},
       {{ { 0, 0, 0, 9, 0 }, { 9, 9, 9, 9, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 0, 3, 1},
       {{ { 9, 9, 0, 0, 0 }, { 0, 9, 0, 0, 0 }, { 0, 9, 0, 0, 0 }, { 0, 9, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 1, 0, 3},
       {{ { 9, 9, 9, 9, 0 }, { 9, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 3, 0, 1}
       }, 8},
    // Пентомино Y: четыре вращения, отражения
    // ####
    //   #
    { {
       {{ { 10, 10, 10, 10, 0 }, { 0, 0, 10, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 3, 0, 1},
       {{ { 0, 10, 0, 0, 0 }, { 0, 10, 0, 0, 0 }, { 10, 10, 0, 0, 0 }, { 0, 10, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 0, 1, 3},
       {{ { 0, 10, 0, 0, 0 }, { 10, 10, 10, 10, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 2, 1, 1},
       {{ { 10, 0, 0, 0, 0 }, { 10, 10, 0, 0, 0 }, { 10, 0, 0, 0, 0 }, { 10, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 1, 0, 3},
       {{ { 10, 0, 0, 0, 0 }, { 10, 0, 0, 0, 0 }, { 10, 10, 0, 0, 0 }, { 10, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 1, 0, 3},
       {{ { 0, 0, 10, 0, 0 }, { 10, 10, 10, 10, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 1, 2, 1},
       {{ { 0, 10, 0, 0, 0 }, { 10, 10, 0, 0, 0 }, { 0, 10, 0, 0, 0 }, { 0, 10, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 0, 1, 3},
       {{ { 10, 10, 10, 10, 0 }, { 0, 10, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 2, 1, 1}
       }, 8},
    // Пентомино N: четыре вращения, отражения
    // ###
    //   ##
       { {
          {{ { 11, 11, 11, 0, 0 }, { 0, 0, 11, 11, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 3, 0, 1},
          {{ { 0, 11, 0, 0, 0 }, { 0, 11, 0, 0, 0 }, { 11, 11, 0, 0, 0 }, { 11, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 0, 1, 3},
          {{ { 11, 11, 0, 0, 0 }, { 0, 11, 11, 11, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 3, 0, 1},
          {{ { 0, 11, 0, 0, 0 }, { 11, 11, 0, 0, 0 }, { 11, 0, 0, 0, 0 }, { 11, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 0, 1, 3},
          {{ { 11, 0, 0, 0, 0 }, { 11, 0, 0, 0, 0 }, { 11, 11, 0, 0, 0 }, { 0, 11, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 1, 0, 3},
          {{ { 0, 0, 11, 11, 0 }, { 11, 11, 11, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 1, 2, 1},
          {{ { 11, 0, 0, 0, 0 }, { 11, 11, 0, 0, 0 }, { 0, 11, 0, 0, 0 }, { 0, 11, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 1, 0, 3},
          {{ { 0, 11, 11, 11, 0 }, { 11, 11, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 2, 1, 1}
          }, 8 },
    // Пентомино X: без вращения, без отражения
    //  #
    // ###
    //  #
       { {
          {{ { 0, 12, 0, 0, 0 }, { 12, 12, 12, 0, 0 }, { 0, 12, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 1, 1, 2}
         }, 1 },
    // Пентомино Z: два вращения, отражения
    // #
    // ###
    //   #
      { {
         {{ { 13, 0, 0, 0, 0 }, { 13, 13, 13, 0, 0 }, { 0, 0, 13, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 2, 0, 2},
         {{ { 0, 13, 13, 0, 0 }, { 0, 13, 0, 0, 0 }, { 13, 13, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 1, 1, 2},
         {{ { 13, 13, 0, 0, 0 }, { 0, 13, 0, 0, 0 }, { 0, 13, 13, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 2, 0, 2},
         {{ { 0, 0, 13, 0, 0 }, { 13, 13, 13, 0, 0 }, { 13, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 }, { 0, 0, 0, 0, 0 } }, 0, 2, 2}
         }, 4 },
};
int** fillField();
int isInserted(int** field, int x, int y, int numShape, int numPiece, int M, int N);
void insert(int** field, int x, int y, int numShape, int numPiece);
int** cpyArr(int** src, int M, int N);
void free_matrix(int** matrix, int N);
void printField(int** field, int M, int N);
int pentomino(int** field, int numFig, int M, int N);